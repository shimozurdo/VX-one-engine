!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vx",[],e):"object"==typeof exports?exports.vx=e():t.vx=e()}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n=class{constructor(t,e){const r=document.createElement("canvas");this.w=r.width=t,this.h=r.height=e,this.view=r,this.ctx=r.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.ctx.textBaseline="top"}render(t,e=!0){if(0==t.active)return;const{ctx:r}=this;e&&r.clearRect(0,0,this.w,this.h),function t(e){e.children.forEach(e=>{if(0!=e.visible){if(r.save(),e.pos&&r.translate(Math.round(e.pos.x),Math.round(e.pos.y)),e.anchor&&r.translate(e.anchor.x,e.anchor.y),e.scale&&r.scale(e.scale.x,e.scale.y),e.rotation){const t=e.pivot?e.pivot.x:0,n=e.pivot?e.pivot.y:0;r.translate(t,n),r.rotate(e.rotation),r.translate(-t,-n)}if(e.text){const{font:t,fill:n,align:i}=e.style;t&&(r.font=t),n&&(r.fillStyle=n),i&&(r.textAlign=i),r.fillText(e.text,0,0)}else if(e.texture){const t=e.texture.img;e.tileW?r.drawImage(t,e.frame.x*e.tileW,e.frame.y*e.tileH,e.tileW,e.tileH,0,0,e.tileW,e.tileH):r.drawImage(t,0,0)}e.children&&t(e),r.restore()}})}(t)}};var i=class{constructor(){this.pos={x:0,y:0},this.children=[]}add(t){return this.children.push(t),t}remove(t){return this.children=this.children.filter(e=>e!==t),t}map(t){return this.children.map(t)}update(t,e){this.children=this.children.filter(r=>(r.update&&r.update(t,e,this),!r.dead))}};var o=class{constructor(t){this.w=t.width,this.h=t.height,this.render=new n(this.w,this.h),t.parent=t.parent||"game",document.querySelector(t.parent)||(document.body.innerHTML='<div id="'+t.parent+'"></div>'),document.getElementById(t.parent).appendChild(this.render.view),this.scene=new i}run(t=(()=>{})){let e=0,r=0,n=0;requestAnimationFrame(i=>{const o=i/1e3;e=Math.min(o-r,1/60*5),r=o,n=Math.round(1/e),this.scene.update(e,o),t(e,o),this.render.render(this.scene)})}};var s=class{constructor(t="",e={}){this.pos={x:0,y:0},this.text=t,this.style=e}};e.default={Render:n,Scene:i,Game:o,Text:s}}])}));
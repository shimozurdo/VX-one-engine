!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("vx",[],e):"object"==typeof exports?exports.vx=e():t.vx=e()}(window,function(){return r={},o.m=n=[function(t,e,n){"use strict";function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.r(e),n.d(e,"GameObject",function(){return i}),n.d(e,"Render",function(){return u}),n.d(e,"Scene",function(){return h}),n.d(e,"TileMap",function(){return j}),n.d(e,"Game",function(){return r}),n.d(e,"Text",function(){return d}),n.d(e,"Sprite",function(){return m}),n.d(e,"math",function(){return b});var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos={x:0,y:0},this.children=[]}var e,n,r;return e=t,(n=[{key:"add",value:function(t){return this.children.push(t),t}},{key:"remove",value:function(e){return this.children=this.children.filter(function(t){return t!==e}),e}},{key:"map",value:function(t){return this.children.map(t)}},{key:"sayHello",value:function(){console.log("Hello")}},{key:"update",value:function(e,n){var r=this;this.children=this.children.filter(function(t){return t.update&&t.update(e,n,r),!t.dead})}}])&&o(e.prototype,n),r&&o(e,r),t}();function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var n=document.createElement("canvas");this.w=n.width=t,this.h=n.height=e,this.view=n,this.ctx=n.getContext("2d"),this.ctx.imageSmoothingEnabled=!1,this.ctx.textBaseline="top"}var t,e,n;return t=r,(e=[{key:"render",value:function(t,e){var f,l,s,n=!(1<arguments.length&&void 0!==e)||e;0!=t.active&&(f=this.ctx,l=this.w,s=this.h,n&&f.clearRect(0,0,this.w,this.h),function a(t){t.children.forEach(function(t){var e,n,r,o,i,c,u;0!=t.visible&&(f.save(),f.fillStyle="black",f.fillRect(0,0,l,s),t.pos&&f.translate(Math.round(t.pos.x),Math.round(t.pos.y)),t.anchor&&f.translate(t.anchor.x,t.anchor.y),t.scale&&f.scale(t.scale.x,t.scale.y),t.rotation&&(e=t.pivot?t.pivot.x:0,n=t.pivot?t.pivot.y:0,f.translate(e,n),f.rotate(t.rotation),f.translate(-e,-n)),t.text?(o=(r=t.style).font,i=r.fill,c=r.align,o&&(f.font=o),i&&(f.fillStyle=i),c&&(f.textAlign=c),f.fillText(t.text,0,0)):t.texture?(u=t.texture.img,t.tileW&&f.drawImage(u,t.frame.x*t.tileW,t.frame.y*t.tileH,t.tileW,t.tileH,0,0,t.tileW,t.tileH)):t.tileW&&(f.fillStyle="red",f.fillRect(t.pos.x*t.tileW*t.tileH,t.pos.y,t.tileW,t.tileH)),t.children&&a(t),f.restore())})}(t))}}])&&c(t.prototype,e),n&&c(t,n),r}();function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(i){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=s(i);return e=c?(t=s(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==a(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(r,i);var n=l(r);function r(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this)}return r}();function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.w=t.width,this.h=t.height,t.debug,this.render=new u(this.w,this.h),t.parent=t.parent||"game",document.querySelector(t.parent)||(document.body.innerHTML='<div id="'+t.parent+'"></div>'),document.getElementById(t.parent).appendChild(this.render.view),this.scene=new h}var t,n,r;return t=e,(n=[{key:"run",value:function(t){var r,o,i=this,c=0<arguments.length&&void 0!==t?t:function(){},u=0;requestAnimationFrame(function t(e){requestAnimationFrame(t);var n=e/1e3;r=Math.min(n-u,1/60*5),u=n,o=Math.round(1/r),i.scene.update(r,n),i.render.render(i.scene),c(r,n,o,i.render.ctx)})}}])&&p(t.prototype,n),r&&p(t,r),e}();var d=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{x:0,y:0},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=n,this.text=e,this.style=r};function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var b={Vector2:function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.x=t,this.y=e}var t,e,r;return t=n,(e=[{key:"add",value:function(t){return t instanceof n?(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=t),this}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"multiply",value:function(t){return t instanceof n?(this.x*=t.x,this.y*=t.y):(this.x*=t,this.y*=t),this}},{key:"normalize",value:function(t){var e=0<arguments.length&&void 0!==t?t:1,n=this.Length();return 0<n?this.Multiply(e/n):this.Set(e,y=0)}},{key:"length",value:function(){return Math.hypot(this.x,this.y)}}])&&v(t.prototype,e),r&&v(t,r),n}(),RGBA:function(t,e,n,r){var o=1<arguments.length&&void 0!==e?e:0,i=2<arguments.length&&void 0!==n?n:0,c=3<arguments.length&&void 0!==r?r:1;return"rgba(".concat(255*(0<arguments.length&&void 0!==t?t:0)|0,",").concat(255*o|0,",").concat(255*i|0,",").concat(c,")")},rand:function(t,e){return Math.floor(randf(t,e))}};var m=function t(e,n){2<arguments.length&&void 0!==arguments[2]||RGBA(255,0,0,1);!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.texture=e,this.pos=n,this.scale=new b.Vector2(1,1),this.pivot=new b.Vector2(0,0),this.rotation=0};function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(i){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,n,r,o=O(i);return e=c?(t=O(this).constructor,Reflect.construct(o,arguments,t)):o.apply(this,arguments),n=this,!(r=e)||"object"!==g(r)&&"function"!=typeof r?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(n):r}}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(a,i);var u=w(a);function a(t,e,n,r,o,i){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(c=u.call(this)).mapW=e,c.mapH=n,c.tileW=r,c.tileH=o,c.w=e*r,c.h=n*o,c.type=t,c}return a}()}],o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0);function o(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}var n,r});
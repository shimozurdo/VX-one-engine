{"version":3,"sources":["webpack://vx/webpack/universalModuleDefinition","webpack://vx/./src/constants.js","webpack://vx/./src/game.js","webpack://vx/./src/game.object.js","webpack://vx/./src/render.js","webpack://vx/./src/scene.js","webpack://vx/./src/sprite.js","webpack://vx/./src/text.js","webpack://vx/./src/tile.map.js","webpack://vx/./src/utils.js","webpack://vx/./src/vx-one.js","webpack://vx/webpack/bootstrap","webpack://vx/webpack/runtime/define property getters","webpack://vx/webpack/runtime/hasOwnProperty shorthand","webpack://vx/webpack/runtime/make namespace object","webpack://vx/webpack/startup"],"names":["STEP","MAX_FRAME","Game","config","width","height","debug","render","Render","backgroundColor","parent","el","document","querySelector","body","innerHTML","getElementById","appendChild","view","scenes","scene","push","dt","last","fps","mainloop","ms","requestAnimationFrame","t","Math","min","round","forEach","update","GameObject","name","pos","x","y","size","visible","active","children","child","filter","c","f","map","dead","canvas","createElement","ctx","getContext","imageSmoothingEnabled","textBaseline","debugObj","clear","save","fillStyle","fillRect","renderRec","translate","anchor","scale","rotation","px","pivot","py","rotate","textAlign","fillText","text","style","font","fill","align","texture","img","tileW","drawImage","frame","tileH","restore","clearRect","w","h","Scene","key","sleep","v","Sprite","color","RGBA","math","Text","TileMap","type","mapW","mapH","level","Vector2","l","Length","Multiply","Set","hypot","r","g","b","a","rand","max","floor","randf"],"mappings":"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","file":"vx-one.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"vx\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vx\"] = factory();\n\telse\n\t\troot[\"vx\"] = factory();\n})(self, function() {\nreturn ","export const STEP = 1 / 60;\r\nexport const MAX_FRAME = STEP * 5;","import Render from \"./render.js\";\r\nimport Scene from \"./scene.js\";\r\nimport { MAX_FRAME } from './constants.js'\r\n\r\nclass Game {\r\n  constructor(config) {\r\n    this.width = config.width;\r\n    this.height = config.height;\r\n    this.debug = config.debug;\r\n    this.render = new Render({ width: this.width, height: this.height, backgroundColor: config.backgroundColor });\r\n    config.parent = config.parent || \"game\";\r\n    let el = document.querySelector(config.parent)\r\n    if (!el) {\r\n      document.body.innerHTML = '<div id=\"' + config.parent + '\"' + '></div>';\r\n    }\r\n    document.getElementById(config.parent).appendChild(this.render.view);\r\n    this.scenes = [];\r\n    this.scene;\r\n  }\r\n\r\n  addScene(scene) {\r\n    this.scenes.push(scene);\r\n    this.scene = scene;\r\n    return scene;\r\n  }\r\n\r\n  run() {\r\n    let dt = 0;\r\n    let last = 0;\r\n    let fps = 0;\r\n\r\n    const mainloop = ms => {\r\n      requestAnimationFrame(mainloop);\r\n      //create delta\r\n      const t = ms / 1000;\r\n      dt = Math.min(t - last, MAX_FRAME);\r\n      last = t;\r\n      fps = Math.round(1 / dt);\r\n      //\r\n      this.scenes.forEach(scene => {\r\n        scene.update(dt, t);\r\n        this.render.render(scene, { debug: this.debug, fps });\r\n      });\r\n    };\r\n    requestAnimationFrame(mainloop);\r\n  }\r\n}\r\n\r\nexport default Game;","class GameObject {\r\n  constructor(\r\n    name,\r\n    pos = { x: 0, y: 0 },\r\n    size,\r\n    visible,\r\n    active) {\r\n    this.name = name;\r\n    this.size = size;\r\n    this.pos = pos;\r\n    this.children = [];\r\n    this.visible = visible;\r\n    this.active = active;\r\n  }\r\n\r\n  add(child) {\r\n    this.children.push(child);\r\n    return child;\r\n  }\r\n\r\n  remove(child) {\r\n    this.children = this.children.filter(c => c !== child);\r\n    return child;\r\n  }\r\n\r\n  map(f) {\r\n    return this.children.map(f);\r\n  }  \r\n\r\n  update(dt, t) {\r\n    this.children = this.children.filter(child => {\r\n      if (child.update) {\r\n        child.update(dt, t, this);\r\n      }\r\n      return child.dead ? false : true;\r\n    });\r\n  }\r\n}\r\n\r\nexport default GameObject;","class Render {\r\n    constructor(config) {\r\n        const canvas = document.createElement(\"canvas\");\r\n        this.width = canvas.width = config.width;\r\n        this.height = canvas.height = config.height;\r\n        this.view = canvas;\r\n        this.ctx = canvas.getContext(\"2d\");\r\n        this.ctx.imageSmoothingEnabled = false;\r\n        this.ctx.textBaseline = \"top\";\r\n        this.backgroundColor = config.backgroundColor;\r\n    }\r\n\r\n    render(scene, debugObj, clear = true) {\r\n        if (scene.active == false) {\r\n            return;\r\n        }\r\n        const { ctx, width, height, backgroundColor } = this;\r\n        ctx.save();\r\n        ctx.fillStyle = backgroundColor || \"black\";\r\n        ctx.fillRect(0, 0, width, height);\r\n\r\n        function renderRec(scene) {\r\n            // Render the container children\r\n\r\n            scene.children.forEach(child => {\r\n                if (child.visible == false) {\r\n                    return;\r\n                }                \r\n\r\n                // Handle transforms\r\n                if (child.pos) {\r\n                    ctx.translate(Math.round(child.pos.x), Math.round(child.pos.y));\r\n                }\r\n                if (child.anchor)\r\n                    ctx.translate(child.anchor.x, child.anchor.y);\r\n                if (child.scale)\r\n                    ctx.scale(child.scale.x, child.scale.y);\r\n                if (child.rotation) {\r\n                    const px = child.pivot ? child.pivot.x : 0;\r\n                    const py = child.pivot ? child.pivot.y : 0;\r\n                    ctx.translate(px, py);\r\n                    ctx.rotate(child.rotation);\r\n                    ctx.translate(-px, -py);\r\n                }\r\n\r\n                if (debugObj.debug) {\r\n                    // Debug mode    \r\n                    ctx.textAlign = \"left\";\r\n                    // ctx.translate(100, 100);\r\n                    ctx.fillStyle = 'black';\r\n                    ctx.fillText(\"FPS: \" + debugObj.fps, -width / 2, -height / 2);\r\n                }\r\n\r\n                // Draw the leaf nodes\r\n                if (child.text) {\r\n                    const { font, fill, align } = child.style;\r\n                    if (font) ctx.font = font;\r\n                    if (fill) ctx.fillStyle = fill;\r\n                    if (align) ctx.textAlign = align;\r\n                    ctx.fillText(child.text, 0, 0);\r\n                } else if (child.texture) {\r\n                    const img = child.texture.img;\r\n                    if (child.tileW) {\r\n                        ctx.drawImage(\r\n                            img,\r\n                            child.frame.x * child.tileW,\r\n                            child.frame.y * child.tileH,\r\n                            child.tileW,\r\n                            child.tileH,\r\n                            0,\r\n                            0,\r\n                            child.tileW,\r\n                            child.tileH\r\n                        );\r\n                    }\r\n                } else if (child.tileW) {\r\n                    ctx.fillStyle = \"red\";\r\n                    ctx.fillRect(child.pos.x * child.tileW * child.tileH, child.pos.y, child.tileW, child.tileH);\r\n                }\r\n\r\n                // Render any child sub-nodes\r\n                if (child.children) {\r\n                    renderRec(child);\r\n                }\r\n\r\n                ctx.restore();\r\n            });\r\n        }\r\n\r\n        if (clear) {\r\n            ctx.clearRect(0, 0, this.w, this.h);\r\n        }\r\n        renderRec(scene);\r\n    }\r\n}\r\n\r\nexport default Render;","import GameObject from \"./game.object.js\";\r\n\r\nclass Scene extends GameObject {\r\n  constructor(key, pos = null, size = null, active = true) {\r\n    super(\"\", pos, size, active, active);\r\n    this.sleep = !active;\r\n    this.key = key;\r\n  }\r\n\r\n  setSleep(v) {\r\n    this.sleep = v;\r\n  }\r\n}\r\n\r\nexport default Scene;","import math from \"./utils.js\"\r\n\r\nclass Sprite {\r\n    constructor(texture, pos, color = RGBA(255, 0, 0, 1)) {\r\n        this.texture = texture;\r\n        this.pos = pos;\r\n        this.scale = new math.Vector2(1, 1);\r\n        this.pivot = new math.Vector2(0, 0);\r\n        this.rotation = 0;\r\n    }\r\n}\r\n\r\nexport default Sprite;","import GameObject from \"./game.object.js\";\r\n\r\nclass Text extends GameObject {\r\n  constructor(text = \"\", pos = { x: 0, y: 0 }, style = {}, active = true) {\r\n    super(\"\", pos, null, active, active);\r\n    this.text = text;\r\n    this.style = style;\r\n  }\r\n}\r\n\r\nexport default Text;","import GameObject from \"./game.object.js\"\r\nclass TileMap extends GameObject {\r\n    constructor(type, mapW, mapH, tileW, tileH, level) {\r\n        super();\r\n        this.mapW = mapW;\r\n        this.mapH = mapH;\r\n        this.tileW = tileW;\r\n        this.tileH = tileH;\r\n        this.w = mapW * tileW;\r\n        this.h = mapH * tileH;\r\n        this.type = type;\r\n    }\r\n}\r\n\r\nexport default TileMap;","class Vector2 {\r\n    constructor(x = 0, y = 0) { this.x = x; this.y = y; }\r\n    add(v) {\r\n        (v instanceof Vector2) ? (this.x += v.x, this.y += v.y) : (this.x += v, this.y += v);\r\n        return this;\r\n    }\r\n    subtract(v) {\r\n        (this.x -= v.x, this.y -= v.y);\r\n        return this;\r\n    }\r\n    multiply(v) {\r\n        (v instanceof Vector2) ? (this.x *= v.x, this.y *= v.y) : (this.x *= v, this.y *= v);\r\n        return this;\r\n    }\r\n    normalize(scale = 1) {\r\n        let l = this.Length();\r\n        return l > 0 ? this.Multiply(scale / l) : this.Set(scale, y = 0);\r\n    }\r\n    length() {\r\n        return Math.hypot(this.x, this.y);\r\n    }\r\n}\r\n\r\nconst RGBA = (r = 0, g = 0, b = 0, a = 1) => (`rgba(${r * 255 | 0},${g * 255 | 0},${b * 255 | 0},${a})`);\r\n\r\nfunction rand(min, max) {\r\n    return Math.floor(randf(min, max));\r\n}\r\n\r\nexport default {\r\n    Vector2,\r\n    RGBA,\r\n    rand\r\n};","import GameObject from \"./game.object.js\";\r\nimport Render from \"./render.js\";\r\nimport Scene from \"./scene.js\";\r\nimport Game from \"./game.js\";\r\nimport Text from \"./text.js\";\r\nimport Sprite from \"./sprite.js\";\r\nimport TileMap from \"./tile.map.js\";\r\nimport math from \"./utils.js\";\r\n\r\nexport {\r\n    GameObject,\r\n    Render,\r\n    Scene,\r\n    TileMap,\r\n    Game,\r\n    Text,\r\n    Sprite,\r\n    math\r\n};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(\"./src/vx-one.js\");\n"],"sourceRoot":""}